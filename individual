#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys

if __name__ == '__main__':
    # объявляем пустой список для хранения словарей с информацией о людях
    people = []

    # запускаем вечный цикл для ввода информации о людях
    while True:
        # Запросить команду из терминала.
        command = input(">>> ").lower()

        # Выполнить действие в соответствие с командой.
        if command == 'exit':
            break

        elif command == 'add':

            # запрашиваем информацию о человеке
            surname = input("Введите фамилию: ")
            name = input("Введите имя: ")
            phone = input("Введите номер телефона: ")
            birthday = input("Введите дату рождения в формате ДД.ММ.ГГГГ: ")

            # разбиваем дату рождения на день, месяц и год, и преобразуем каждый элемент в целое число
            day, month, year = birthday.split(".")
            day = int(day)
            month = int(month)
            year = int(year)

            # создаем словарь с информацией об одном человеке
            person = {
                "фамилия": surname,
                "имя": name,
                "телефон": phone,
                "день рождения": [day, month, year],
            }

            # добавляем словарь в список людей
            people.append(person)

            # сортируем список людей по фамилии и имени
            people.sort(key=lambda x: (x["фамилия"], x["имя"]))

            # запрашиваем у пользователя месяц для поиска людей с днем рождения в этом месяце
            search_month = int(input("Введите месяц для поиска людей с днем рождения в этом месяце: "))

            # проходим циклом по всем людям в списке и выводим информацию о тех,
            # у кого день рождения в указанном месяце
            for person in people:
                if person["день рождения"][1] == search_month:
                    print(person["фамилия"], person["имя"], person["телефон"], person["день рождения"])

                # если не были найдены люди с днем рождения в указанном месяце, сообщаем об этом
                else:
                    print("Люди с днем рождения в указанном месяце не найдены.")

        elif command == 'help':
            # Вывести справку о работе с программой.
            print("Список команд:\n")
            print("add - добавить работника;")
            print("help - отобразить справку;")
            print("exit - завершить работу с программой.")

        else:
            print(f"Неизвестная команда {command}", file=sys.stderr)
